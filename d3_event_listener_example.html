<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>d3.js event listener example</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <style>
      .axis path,
      .axis line {
        stroke: darkgreen;
        shape-rendering: auto;
      }
      .axis text {
        font-family: Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 14px;
        fill: darkgreen;
      }
    </style>
  </head>
  <body>
    <h1>d3.js event listener example</h1>

    <label
      >radius slide bar:
      <input type="range" id="radiusSlider" min="1" max="50" value="10" />
    </label>

    <label
      >color of the circle:
      <input
        type="color"
        id="circleColorInput"
        value="olive"
        title="Change the color of the circle"
      />
    </label>

    <p>Press ctrl+shift+I to see the SVG element</p>

    <script type="text/javascript">
      const width = 600;
      const height = 300;

      const svg = d3.select("body").append("svg");
      svg.attr("width", width);
      svg.attr("height", height);

      const circle = svg.append("circle");
      circle
        .attr("cx", width / 2)
        .attr("cy", height / 2)
        .attr("r", 10)
        .attr("fill", "olive");

      /*****************************
       * Event listener for changing the circle radius with a slider
       * ***************************/
      const radiusSlider = d3.select("#radiusSlider");
      radiusSlider.on("input", function () {
        const radiusValue = this.value;
        circle.attr("r", radiusValue);
      });

      /*****************************
       * Event listener for changing the circle color with the color input
       * ***************************/
      const colorInput = d3.select("#circleColorInput");
      colorInput.on("input", function () {
        const selectedColor = this.value;
        circle.attr("fill", selectedColor);
        console.log("Circle color: ", selectedColor);
      });
    </script>
  </body>
</html>
